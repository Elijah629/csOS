using CSOS.GUI.Apps;
using Mosa.External.x86.Drawing.Fonts;
using Mosa.External.x86.Driver;
using System.Collections.Generic;
using System.Drawing;

namespace CSOS.GUI.Core
{
    public static class System
    {
        
        public const uint Color1 = 0x141414;
        public const uint Color2 = 0x313131;
        public const uint Color3 = 0x414141;
        public const uint TextColor = 0xFFFFFF;

        public const string DefaultFontName = "ArialCustomCharset16";
        public static int[] cursor;
        public static List<App> OpenApps;
        public static List<App> ClosedApps;
        public static unsafe void Boot()
        {
            CursorManager.Init();
            PS2Mouse.Initialize(Program.ScreenWidth, Program.ScreenHeight);
            string CustomCharset = "!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~这个操作系统是乐至县吴仲良中学高一十三班倪繁发的作品。使用C#写成，使用了MOSA编译器，并且使用了一些NASM汇编。我的目的是做出一款中国人的操作系统！字库生成和解析程序也由我写成。输入help获取帮助！你好Bonjourनमस्तेสวัสดีครับ/คะ!hej,hallåこんにちは여보세요приветהלוهتاف للترحيب, ‏أهلا";
            byte[] ArialCustomCharset16 = Mosa.External.x86.Convert.FromBase64String("AAAAAAAAAAAgACAAIAAgACAAIAAgAAAAIAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAKAH8AFAAUAH8AFAAoACgAAAAAAAAAAAAAAAAAAAAcACoAKAAoABwACgAqACoAHAAIAAAAAAAAAAAAAAAAABiAJQAlACYAGsADIAUgBSAIwAAAAAAAAAAAAAAAAAAADAASABIAFAAYACUAIgAjAByAAAAAAAAAAAAAAAAAAAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAQACAAIAAgACAAIAAQABAACAAAAAAAAAAAAAAAQAAgACAAEAAQABAAEAAQACAAIABAAAAAAAAAAAAAAAAQAHwAEAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgAPgAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAIAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAEAAQACAAIAAgACAAIABAAEAAAAAAAAAAAAAAAAAAAAAcACIAIgAiACIAIgAiACIAHAAAAAAAAAAAAAAAAAAAAAgAGAAoAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAHAAiAAIAAgAEAAQACAAQAD4AAAAAAAAAAAAAAAAAAAAcACIAAgACAAwAAgACACIAHAAAAAAAAAAAAAAAAAAAAAQADAAMABQAFAAkAD4ABAAEAAAAAAAAAAAAAAAAAAAAHgAQACAAPAAiAAIAAgAiABwAAAAAAAAAAAAAAAAAAAAcACIAIAAsADIAIgAiACIAHAAAAAAAAAAAAAAAAAAAAD4ABAAEAAgACAAIABAAEAAQAAAAAAAAAAAAAAAAAAAAHAAiACIAIgAcACIAIgAiABwAAAAAAAAAAAAAAAAAAAAcACIAIgAiACYAGgACACIAHAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAACAAIAAgAAAAAAAAAAAAAAAAAAAAAgAcACAAHAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH4AAAAAAH4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAHAACABwAIAAAAAAAAAAAAAAAAAAAAAAAAAAcACIAIgACAAQACAAIAAAACAAAAAAAAAAAAAAAAAADwAwwEBATSCTIKIgoiCiQJ+AQCAgwB8AAAAAAAAAAAAAACAAUABQAFAAiAD4AIgBBAEEAAAAAAAAAAAAAAAAAAAA+ACEAIQAhAD8AIQAhACEAPgAAAAAAAAAAAAAAAAAAAA4AEQAggCAAIAAgACCAEQAOAAAAAAAAAAAAAAAAAAAAPgAhACCAIIAggCCAIIAhAD4AAAAAAAAAAAAAAAAAAAA/ACAAIAAgAD8AIAAgACAAPwAAAAAAAAAAAAAAAAAAAD4AIAAgACAAPAAgACAAIAAgAAAAAAAAAAAAAAAAAAAADgARACCAIAAjgCCAIIARAA4AAAAAAAAAAAAAAAAAAAAggCCAIIAggD+AIIAggCCAIIAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQARABEADgAAAAAAAAAAAAAAAAAAAAggCEAIgAkACgANAAiACEAIIAAAAAAAAAAAAAAAAAAACAAIAAgACAAIAAgACAAIAA/AAAAAAAAAAAAAAAAAAAAIIAxgDGAKoAqgCqAKoAkgCSAAAAAAAAAAAAAAAAAAAAggDCAKIAogCSAIoAigCGAIIAAAAAAAAAAAAAAAAAAAA4AEQAggCCAIIAggCCAEQAOAAAAAAAAAAAAAAAAAAAAPgAhACEAIQA+ACAAIAAgACAAAAAAAAAAAAAAAAAAAAAOABEAIIAggCCAIIAmgBEADoAAAAAAAAAAAAAAAAAAAD8AIIAggCCAPwAiACEAIQAggAAAAAAAAAAAAAAAAAAAHgAhACEAIAAeAAEAIQAhAB4AAAAAAAAAAAAAAAAAAAB/AAgACAAIAAgACAAIAAgACAAAAAAAAAAAAAAAAAAAACCAIIAggCCAIIAggCCAEQAOAAAAAAAAAAAAAAAAAAAAQQBBACIAIgAiABQAFAAIAAgAAAAAAAAAAAAAAAAAAABCEEUQRSAlICigKKAooBBAEEAAAAAAAAAAAAAAAAAAAEEAIgAiABQACAAUACIAIgBBAAAAAAAAAAAAAAAAAAAAQQAiACIAFAAIAAgACAAIAAgAAAAAAAAAAAAAAAAAAAA/AAIABAAEAAgAEAAQACAAfwAAAAAAAAAAAAAAAAAAADAAIAAgACAAIAAgACAAIAAgACAAMAAAAAAAAAAAAAAAQABAACAAIAAgACAAIAAQABAAAAAAAAAAAAAAAAAAAABgACAAIAAgACAAIAAgACAAIAAgAGAAAAAAAAAAAAAAABAAKAAoACgARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/AAAAAAAAAAAAAAAgABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcACIAAgAeACIAJgAaAAAAAAAAAAAAAAAAAAAAIAAgACwAMgAiACIAIgAyACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAkACAAIAAgACQAGAAAAAAAAAAAAAAAAAAAAAIAAgAaACYAIgAiACIAIgAeAAAAAAAAAAAAAAAAAAAAAAAAABwAIgAiAD4AIAAiABwAAAAAAAAAAAAAAAAAAAAYACAAcAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAaACYAIgAiACIAJgAaAAIAPAAAAAAAAAAAAAAAIAAgACwAMgAiACIAIgAiACIAAAAAAAAAAAAAAAAAAAAgAAAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAACAAAAAgACAAIAAgACAAIAAgACAAQAAAAAAAAAAAAAAAIAAgACIAJAAoADgAJAAkACIAAAAAAAAAAAAAAAAAAAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAswDMgIiAiICIgIiAiIAAAAAAAAAAAAAAAAAAAAAAAACwAMgAiACIAIgAiACIAAAAAAAAAAAAAAAAAAAAAAAAAHAAiACIAIgAiACIAHAAAAAAAAAAAAAAAAAAAAAAAAAAsADIAIgAiACIAMgAsACAAIAAAAAAAAAAAAAAAAAAAABoAJgAiACIAIgAmABoAAgACAAAAAAAAAAAAAAAAAAAAKAAwACAAIAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAcACIAIAAcAAIAIgAcAAAAAAAAAAAAAAAAAAAAIAAgAHAAIAAgACAAIAAgADAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAgAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACACSAQEBAQD/AAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAQYCCgIOAf4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQAAgAiAEIAQgBCADwAAAAAAAAAAAAAAAAABAAEAAQABAACACIAQgBCAEIAPAAAAAAAAAAAAAAAAAAAAAAAAAACACSAQEBAQD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAIAAgACAAQAeAAAAAAAAAAAAAAAAAAAAAAAAAAAAH4AGAAgAEAAQABAADwAAAAAAAAAAAAAAAAAAAAAAAMABAAoAE8AQQBCADwABAAIAAAAAAAAAAAAAAAAAAAAIIBAQEBAP8AAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgACAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAIAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQAAgAiAEIAQgBCADwAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAA==");
            BitFont.RegisterBitFont(new BitFontDescriptor(DefaultFontName, CustomCharset, ArialCustomCharset16, 16));
            CursorManager.SetCursor("normal");
            OpenApps = new List<App>();
            ClosedApps = new List<App>();
            new TaskBar().Open();
            new Dock().Open();
            new TaskManager().Close();
            new Terminal().Close();
        }
        public static void Update()
        {
            Program.graphics.Clear(Color1);
            Program.graphics.DrawBitFontString(DefaultFontName, 0xFFF0F3F4, "FPS: " + FPSMeter.FPS, 10, 46);
            for (int i = 0; i < OpenApps.Count; i++)
            {
                OpenApps[i].Update();
            }
            DrawCursor(PS2Mouse.X, PS2Mouse.Y);
            Program.graphics.Update();
            FPSMeter.Update();
        }
        public static void DrawCursor(int x, int y)
        {
            for (int h = 0; h < 21; h++)
            {
                for (int w = 0; w < 12; w++)
                {
                    if (cursor[h * 12 + w] == 1)
                    {
                        Program.graphics.DrawPoint(Color.Black.ToArgb(), w + x, h + y);
                    }

                    if (cursor[h * 12 + w] == 2)
                    {
                        Program.graphics.DrawPoint(Color.White.ToArgb(), w + x, h + y);
                    }
                }
            }
        }
    }
}